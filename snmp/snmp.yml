auths:
  public_v1:
    community: public
    security_level: noAuthNoPriv
    auth_protocol: MD5
    priv_protocol: DES
    version: 1
  public_v2:
    community: public
    security_level: noAuthNoPriv
    auth_protocol: MD5
    priv_protocol: DES
    version: 2

modules:
    if_mib:
      walk:

        # Entrada
        - 1.3.6.1.4.1.534.1.3    # input_voltage_l1
        - 1.3.6.1.4.1.534.1.3.8.1.0       # input_voltage
        - 1.3.6.1.4.1.534.1.10.2.4.2.0    # input_voltage_adv
        - 1.3.6.1.4.1.534.1.10.2.4.3.0    # input_frequency

        # Salida
        - 1.3.6.1.4.1.534.1.4    # output_voltage_l1
        - 1.3.6.1.4.1.534.1.4.4.1.7.1     # output_current_l1
        - 1.3.6.1.4.1.534.1.4.4.1.9.1     # output_power
        - 1.3.6.1.4.1.534.1.4.9.5.0       # load_percent

        # Batería
        - 1.3.6.1.4.1.534.1.2       # battery_runtime_seconds
        - 1.3.6.1.4.1.534.1.2.2.0         # battery_charge
        - 1.3.6.1.4.1.534.1.2.4.0         # battery_status
        - 1.3.6.1.4.1.534.1.10.2.4.9.0    # battery_charge_adv
        - 1.3.6.1.4.1.534.1.10.2.4.12.0   # battery_temperature

        # Temperaturas
        - 1.3.6.1.4.1.534.1.6         # internal_temperature
        - 1.3.6.1.4.1.534.1.7.1.0         # temp_sensor_1
        - 1.3.6.1.4.1.534.1.7.18.0        # temp_sensor_2

        # Estado
        - 1.3.6.1.4.1.534.1.5         # operation_mode
        - 1.3.6.1.4.1.534.1.7        # input_mode
        - 1.3.6.1.4.1.534.1.9.7.0         # online_status

        # Carga
        - 1.3.6.1.4.1.534.1.4       # power_percent
        - 1.3.6.1.4.1.534.1.13.2.0        # power_real_w

      metrics:
      # =======================
      # INPUT (ENTRADA)
      # =======================

      - name: ups_input_voltage
        oid: 1.3.6.1.4.1.534.1.3.4.1.2
        type: gauge
        help: "Input voltage (V)"

      - name: ups_input_frequency
        oid: 1.3.6.1.4.1.534.1.3.1
        type: gauge
        help: "Input frequency (Hz)"
        scale: 0.1

      - name: ups_input_phase
        oid: 1.3.6.1.4.1.534.1.3.4.1.1
        type: gauge
        help: "Input phase (1=L1,2=L2,3=L3)"

      # =======================
      # OUTPUT (SALIDA)
      # =======================
      - name: ups_output_voltage
        oid: 1.3.6.1.4.1.534.1.4.4.1.2
        type: gauge
        help: "Output voltage (V)"

      - name: ups_output_current
        oid: 1.3.6.1.4.1.534.1.4.4.1.3
        type: gauge
        help: "Output current (A)"

      - name: ups_output_frequency
        oid: 1.3.6.1.4.1.534.1.4.2
        type: gauge
        help: "Output frequency (Hz)"
        scale: 0.1

      - name: ups_output_power
        oid: 1.3.6.1.4.1.534.1.4.4.1.4
        type: gauge
        help: "Output active power (W)"

      # =======================
      # LOAD (CARGA)
      # =======================
      - name: ups_load_percent_total
        oid: 1.3.6.1.4.1.534.1.4.1
        type: gauge
        help: "UPS load percentage (%)"

      - name: ups_status
        oid: 1.3.6.1.4.1.534.1.4.5
        type: gauge
        help: "UPS status: other(1), none(2), normal(3), bypass(4), battery(5), booster(6), reducer(7), parallelCapacity(8), parallelRedundant(9), highEfficiencyMode(10)"

      # =======================
      # BATTERY (BATERÍA)
      # =======================
      - name: ups_battery_voltage
        oid: 1.3.6.1.4.1.534.1.2.2
        type: gauge
        help: "Battery voltage (V)"

      - name: ups_battery_runtime_remaining_seconds
        oid: 1.3.6.1.4.1.534.1.2.1
        type: gauge
        help: "Remaining battery runtime (seconds)"

      - name: ups_battery_current
        oid: 1.3.6.1.4.1.534.1.2.3
        type: gauge
        help: "Battery current (A)"

      - name: ups_battery_capacity_percent
        oid: 1.3.6.1.4.1.534.1.2.4
        type: gauge
        help: "Battery capacity percentage (%)"

      # =======================
      # TEMPERATURES
      # =======================
      - name: ups_internal_temperature_celsius
        oid: 1.3.6.1.4.1.534.1.6.1.0
        type: gauge
        help: "Internal UPS temperature (°C)"

      # =======================
      # BYPASS
      # =======================
      - name: ups_bypass_phase
        oid: 1.3.6.1.4.1.534.1.5.3.1.1
        type: gauge
        help: "UPS bypass phase"

      - name: ups_bypass_voltage
        oid: 1.3.6.1.4.1.534.1.5.3.1.2	
        type: gauge
        help: "UPS bypass voltage (V)"

      - name: ups_bypass_frequency
        oid: 1.3.6.1.4.1.534.1.5.1.0	
        type: gauge
        help: "UPS bypass frequency (Hz)"
        scale: 0.1  
